import type { Metadata } from 'next';
// 导入全局样式文件
import './globals.css';
import { AuthProvider } from './providers/auth-provider';
import { ConfigProvider } from 'antd';
import { CronTaskManager } from '../lib/cron-tasks';

export const metadata: Metadata = {
    title: '基金监测列表',
    description: 'Generated by Kamal',
};

// 初始化定时任务
if (typeof window === 'undefined') {
    // 只在服务器端启动定时任务
    console.log('服务器端初始化定时任务...');
    const cronManager = CronTaskManager.getInstance();
    cronManager.startTasks();
    console.log('定时任务初始化完成');
}

export default function RootLayout({ children }: Readonly<{ children: React.ReactNode }>) {
    return (
        <html lang="zh-CN" data-oid="nkt6ee.">
            <body className="" data-oid=":skcoqk">
                <ConfigProvider>
                    <AuthProvider>{children}</AuthProvider>
                </ConfigProvider>
            </body>
        </html>
    );
}
